from settings import CONNECTION_SETTINGS
import socket

if __name__ == '__main__':
    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    message = b'0200B038470000C0021000000000000043E20030000000000018730041951935200905581400510001000533313135313938353030303030303837303534392020200136FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF008430334D32343032303030353030303330303030303030303030303031324432363030393930303030303235303635393330303030303030303030553233303030303035303030333030303030303030303030303100063030303238330024303030303030303031363732303030303030303030303030001431313030303030303030303230310004464646460040FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0008FFFFFFFFFFFFFFFF0005322E302E31'

    print('Connecting to Host:{host} and Port:{port}'.format(host=CONNECTION_SETTINGS['host'],
                                                             port=CONNECTION_SETTINGS['port']))
    sock.connect((CONNECTION_SETTINGS['host'], CONNECTION_SETTINGS['port']))
    print('Connection successful')
    sock.sendall(message)

    data = b''
    while True:
        print('Receiving data...')
        dataRc = sock.recv(CONNECTION_SETTINGS['BUFFER_SIZE'])
        if not dataRc:
            print('Data Receiving end')
            break
        data += dataRc

    print(data)
    sock.close()
